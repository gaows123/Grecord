\hypertarget{classbase__local__planner_1_1_costmap_model}{}\doxysection{base\+\_\+local\+\_\+planner\+::Costmap\+Model类 参考}
\label{classbase__local__planner_1_1_costmap_model}\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}


A class that implements the \mbox{\hyperlink{classbase__local__planner_1_1_world_model}{World\+Model}} interface to provide grid based collision checks for the trajectory controller using the costmap.  




{\ttfamily \#include $<$costmap\+\_\+model.\+h$>$}



类 base\+\_\+local\+\_\+planner\+::Costmap\+Model 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=180pt]{classbase__local__planner_1_1_costmap_model__inherit__graph}
\end{center}
\end{figure}


base\+\_\+local\+\_\+planner\+::Costmap\+Model 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{classbase__local__planner_1_1_costmap_model__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_a7f785fd68a7d341c41a5c2397e7b8a06}{Costmap\+Model}} (const \mbox{\hyperlink{classcostmap__2d_1_1_costmap2_d}{costmap\+\_\+2d\+::\+Costmap2D}} \&costmap)
\begin{DoxyCompactList}\small\item\em 构造代价地图模型 \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_a0ec575505589c1816559a563b34cd682}{$\sim$\+Costmap\+Model}} ()
\begin{DoxyCompactList}\small\item\em 世界模型的析构函数 \end{DoxyCompactList}\item 
virtual double \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_a80d896d06af4f1c0bd5b61cd758743af}{footprint\+Cost}} (const geometry\+\_\+msgs\+::\+Point \&position, const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&footprint, double inscribed\+\_\+radius, double circumscribed\+\_\+radius)
\begin{DoxyCompactList}\small\item\em 检查是否有障碍物落到凸footprint里面，其中footprint已经被栅格化成网格 \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_a8c65ee26aa8032afb635c3cb544e57cf}{line\+Cost}} (int x0, int x1, int y0, int y1) const
\begin{DoxyCompactList}\small\item\em 栅格化一条线段到代价地图网格并且进行碰撞检测 \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_abfd021e995f9493ddeb64184a0bd3cf8}{point\+Cost}} (int x, int y) const
\begin{DoxyCompactList}\small\item\em 检查某个点在代价地图中的代价 \end{DoxyCompactList}\item 
virtual double \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_a36d4c808bc441e2b87b0ac038099993a}{footprint\+Cost}} (const geometry\+\_\+msgs\+::\+Point \&position, const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&footprint, double inscribed\+\_\+radius, double circumscribed\+\_\+radius)=0
\begin{DoxyCompactList}\small\item\em Subclass will implement this method to check a footprint at a given position and orientation for legality in the world \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_ac7e8dc9c77a2dd2fa77f5a27d812fd43}{footprint\+Cost}} (double x, double y, double theta, const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&footprint\+\_\+spec, double inscribed\+\_\+radius=0.\+0, double circumscribed\+\_\+radius=0.\+0)
\item 
double \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_a358fe0d75fefe46dda134ee6e3305f71}{footprint\+Cost}} (const geometry\+\_\+msgs\+::\+Point \&position, const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&footprint, double inscribed\+\_\+radius, double circumscribed\+\_\+radius, double extra)
\begin{DoxyCompactList}\small\item\em Checks if any obstacles in the costmap lie inside a convex footprint that is rasterized into the grid \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{classcostmap__2d_1_1_costmap2_d}{costmap\+\_\+2d\+::\+Costmap2D}} \& \mbox{\hyperlink{classbase__local__planner_1_1_costmap_model_aed9c90777aa55143075132648dee3b03}{costmap\+\_\+}}
\begin{DoxyCompactList}\small\item\em Allows access of costmap obstacle information \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{额外继承的成员函数}


\doxysubsection{详细描述}
A class that implements the \mbox{\hyperlink{classbase__local__planner_1_1_world_model}{World\+Model}} interface to provide grid based collision checks for the trajectory controller using the costmap. 

\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_a7f785fd68a7d341c41a5c2397e7b8a06}\label{classbase__local__planner_1_1_costmap_model_a7f785fd68a7d341c41a5c2397e7b8a06}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!CostmapModel@{CostmapModel}}
\index{CostmapModel@{CostmapModel}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{CostmapModel()}{CostmapModel()}}
{\footnotesize\ttfamily base\+\_\+local\+\_\+planner\+::\+Costmap\+Model\+::\+Costmap\+Model (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcostmap__2d_1_1_costmap2_d}{costmap\+\_\+2d\+::\+Costmap2D}} \&}]{costmap }\end{DoxyParamCaption})}



构造代价地图模型 


\begin{DoxyParams}{参数}
{\em costmap} & 用到的代价函数 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}

\end{DoxyReturn}
\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_a0ec575505589c1816559a563b34cd682}\label{classbase__local__planner_1_1_costmap_model_a0ec575505589c1816559a563b34cd682}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!````~CostmapModel@{$\sim$CostmapModel}}
\index{````~CostmapModel@{$\sim$CostmapModel}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{$\sim$CostmapModel()}{~CostmapModel()}}
{\footnotesize\ttfamily virtual base\+\_\+local\+\_\+planner\+::\+Costmap\+Model\+::$\sim$\+Costmap\+Model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



世界模型的析构函数 



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_a80d896d06af4f1c0bd5b61cd758743af}\label{classbase__local__planner_1_1_costmap_model_a80d896d06af4f1c0bd5b61cd758743af}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!footprintCost@{footprintCost}}
\index{footprintCost@{footprintCost}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{footprintCost()}{footprintCost()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+Costmap\+Model\+::footprint\+Cost (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Point \&}]{position,  }\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&}]{footprint,  }\item[{double}]{inscribed\+\_\+radius,  }\item[{double}]{circumscribed\+\_\+radius }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



检查是否有障碍物落到凸footprint里面，其中footprint已经被栅格化成网格 


\begin{DoxyParams}{参数}
{\em position} & 机器人位置 \\
\hline
{\em footprint} & 机器人的footprint \\
\hline
{\em inscribed\+\_\+radius} & 机器人的内切圆半径 \\
\hline
{\em circumscribed\+\_\+radius} & 机器人的外接圆半径 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
返回正数如果所有的点都在footprint外部，负数则分别代表\+: -\/1 代表 footprint 碰到至少一个致命的障碍物单元格(lethal obstacle cell) -\/2 代表 footprint 碰到至少一个无信息单元格 (no-\/information cell) -\/3 代表 footprint 有一部分在地图外面 
\end{DoxyReturn}


实现了 \mbox{\hyperlink{classbase__local__planner_1_1_world_model_a36d4c808bc441e2b87b0ac038099993a}{base\+\_\+local\+\_\+planner\+::\+World\+Model}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classbase__local__planner_1_1_costmap_model_a80d896d06af4f1c0bd5b61cd758743af_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classbase__local__planner_1_1_costmap_model_a80d896d06af4f1c0bd5b61cd758743af_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_a36d4c808bc441e2b87b0ac038099993a}\label{classbase__local__planner_1_1_costmap_model_a36d4c808bc441e2b87b0ac038099993a}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!footprintCost@{footprintCost}}
\index{footprintCost@{footprintCost}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{footprintCost()}{footprintCost()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily virtual double base\+\_\+local\+\_\+planner\+::\+World\+Model\+::footprint\+Cost (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Point \&}]{position,  }\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&}]{footprint,  }\item[{double}]{inscribed\+\_\+radius,  }\item[{double}]{circumscribed\+\_\+radius }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Subclass will implement this method to check a footprint at a given position and orientation for legality in the world 


\begin{DoxyParams}{参数}
{\em position} & The position of the robot in world coordinates \\
\hline
{\em footprint} & The specification of the footprint of the robot in world coordinates \\
\hline
{\em inscribed\+\_\+radius} & The radius of the inscribed circle of the robot \\
\hline
{\em circumscribed\+\_\+radius} & The radius of the circumscribed circle of the robot \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
Positive if all the points lie outside the footprint, negative otherwise\+: -\/1 if footprint covers at least a lethal obstacle cell, or -\/2 if footprint covers at least a no-\/information cell, or -\/3 if footprint is partially or totally outside of the map 
\end{DoxyReturn}


实现了 \mbox{\hyperlink{classbase__local__planner_1_1_world_model_a36d4c808bc441e2b87b0ac038099993a}{base\+\_\+local\+\_\+planner\+::\+World\+Model}}.

\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_a358fe0d75fefe46dda134ee6e3305f71}\label{classbase__local__planner_1_1_costmap_model_a358fe0d75fefe46dda134ee6e3305f71}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!footprintCost@{footprintCost}}
\index{footprintCost@{footprintCost}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{footprintCost()}{footprintCost()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+World\+Model\+::footprint\+Cost (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Point \&}]{position,  }\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&}]{footprint,  }\item[{double}]{inscribed\+\_\+radius,  }\item[{double}]{circumscribed\+\_\+radius,  }\item[{double}]{extra }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Checks if any obstacles in the costmap lie inside a convex footprint that is rasterized into the grid 


\begin{DoxyParams}{参数}
{\em position} & The position of the robot in world coordinates \\
\hline
{\em footprint} & The specification of the footprint of the robot in world coordinates \\
\hline
{\em inscribed\+\_\+radius} & The radius of the inscribed circle of the robot \\
\hline
{\em circumscribed\+\_\+radius} & The radius of the circumscribed circle of the robot \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
Positive if all the points lie outside the footprint, negative otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_ac7e8dc9c77a2dd2fa77f5a27d812fd43}\label{classbase__local__planner_1_1_costmap_model_ac7e8dc9c77a2dd2fa77f5a27d812fd43}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!footprintCost@{footprintCost}}
\index{footprintCost@{footprintCost}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{footprintCost()}{footprintCost()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+World\+Model\+::footprint\+Cost (\begin{DoxyParamCaption}\item[{double}]{x,  }\item[{double}]{y,  }\item[{double}]{theta,  }\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Point $>$ \&}]{footprint\+\_\+spec,  }\item[{double}]{inscribed\+\_\+radius = {\ttfamily 0.0},  }\item[{double}]{circumscribed\+\_\+radius = {\ttfamily 0.0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_a8c65ee26aa8032afb635c3cb544e57cf}\label{classbase__local__planner_1_1_costmap_model_a8c65ee26aa8032afb635c3cb544e57cf}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!lineCost@{lineCost}}
\index{lineCost@{lineCost}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{lineCost()}{lineCost()}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+Costmap\+Model\+::line\+Cost (\begin{DoxyParamCaption}\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{y0,  }\item[{int}]{y1 }\end{DoxyParamCaption}) const}



栅格化一条线段到代价地图网格并且进行碰撞检测 


\begin{DoxyParams}{参数}
{\em x0} & 网格坐标系中第一个单元格的x坐标 \\
\hline
{\em y0} & 网格坐标系中第一个单元格的y坐标 \\
\hline
{\em x1} & 网格坐标系中第二个单元格的x坐标 \\
\hline
{\em y1} & 网格坐标系中第二个单元格的y坐标 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
对于合法的线段返回正值的代价 
\end{DoxyReturn}
函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classbase__local__planner_1_1_costmap_model_a8c65ee26aa8032afb635c3cb544e57cf_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classbase__local__planner_1_1_costmap_model_a8c65ee26aa8032afb635c3cb544e57cf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_abfd021e995f9493ddeb64184a0bd3cf8}\label{classbase__local__planner_1_1_costmap_model_abfd021e995f9493ddeb64184a0bd3cf8}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!pointCost@{pointCost}}
\index{pointCost@{pointCost}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{pointCost()}{pointCost()}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+Costmap\+Model\+::point\+Cost (\begin{DoxyParamCaption}\item[{int}]{x,  }\item[{int}]{y }\end{DoxyParamCaption}) const}



检查某个点在代价地图中的代价 


\begin{DoxyParams}{参数}
{\em x} & 点在单元格坐标系中的x坐标 \\
\hline
{\em y} & 点在单元格坐标系中的y坐标 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
对于合法的线段返回正值的代价 
\end{DoxyReturn}
函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classbase__local__planner_1_1_costmap_model_abfd021e995f9493ddeb64184a0bd3cf8_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classbase__local__planner_1_1_costmap_model_abfd021e995f9493ddeb64184a0bd3cf8_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classbase__local__planner_1_1_costmap_model_aed9c90777aa55143075132648dee3b03}\label{classbase__local__planner_1_1_costmap_model_aed9c90777aa55143075132648dee3b03}} 
\index{base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}!costmap\_@{costmap\_}}
\index{costmap\_@{costmap\_}!base\_local\_planner::CostmapModel@{base\_local\_planner::CostmapModel}}
\doxysubsubsection{\texorpdfstring{costmap\_}{costmap\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classcostmap__2d_1_1_costmap2_d}{costmap\+\_\+2d\+::\+Costmap2D}}\& base\+\_\+local\+\_\+planner\+::\+Costmap\+Model\+::costmap\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Allows access of costmap obstacle information 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
base\+\_\+local\+\_\+planner/include/base\+\_\+local\+\_\+planner/\mbox{\hyperlink{costmap__model_8h}{costmap\+\_\+model.\+h}}\item 
base\+\_\+local\+\_\+planner/src/\mbox{\hyperlink{costmap__model_8cpp}{costmap\+\_\+model.\+cpp}}\end{DoxyCompactItemize}
